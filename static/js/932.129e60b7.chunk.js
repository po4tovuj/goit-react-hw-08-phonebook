"use strict";(self.webpackChunkhw_08_phonebook=self.webpackChunkhw_08_phonebook||[]).push([[932],{419:function(e,n,t){var r=t(1413),a=t(9439),o=t(5987),s=t(5863),i=t(824),c=t(5777),l=t(5705),u=t(2791),d=t(3329),m=["label"];n.Z=function(e){var n=e.label,t=(0,o.Z)(e,m),x=(0,l.U$)(t),h=(0,a.Z)(x,2),p=h[0],f=h[1],C=(0,u.useState)(!1),j=(0,a.Z)(C,2),b=j[0],v=j[1];return(0,d.jsxs)(s.NI,{isInvalid:f.error&&f.touched,errorBorderColor:"red.300",children:[(0,d.jsx)(s.lX,{children:n}),"password"!==t.type?(0,d.jsx)(l.gN,(0,r.Z)((0,r.Z)({as:i.II},p),t)):(0,d.jsxs)(i.BZ,{size:"md",children:[(0,d.jsx)(l.gN,(0,r.Z)((0,r.Z)((0,r.Z)({as:i.II},p),t),{},{type:b?"text":"password",pr:"4.5rem"})),(0,d.jsx)(i.xH,{w:"4.5rem",children:(0,d.jsx)(c.zx,{h:"1.75rem",size:"sm",onClick:function(){return v(!b)},children:b?"Hide":"Show"})})]}),(0,d.jsx)(s.J1,{children:f.error})]})}},2932:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(1197),a=t(4190),o=t(5777),s=t(8699),i=t(824),c=t(9434),l=t(6895),u=function(e){return e.contacts.items},d=function(e){return e.filter},m=function(e){var n=u(e),t=d(e).toLowerCase();return n.filter((function(e){return e.name.toLowerCase().includes(t)||e.number.includes(t)})).sort((function(e,n){return e.name.toLowerCase().localeCompare(n.name.toLowerCase())}))},x=t(3329),h=function(){var e=(0,c.I0)(),n=(0,c.v9)(d);return(0,x.jsxs)(i.BZ,{size:"md",maxW:"50rem",children:[(0,x.jsx)(i.Z8,{pointerEvents:"none",color:"gray.300",fontSize:"1.2em",children:(0,x.jsx)(s.W1,{})}),(0,x.jsx)(i.II,{value:n,onChange:function(n){return e((0,l.M)(n.target.value))},placeholder:"Filter your contacts"})]})},p=t(5705),f=t(2797),C=t(419),j=t(5562),b=function(e){var n=e.handleClose,t=e.handleSubmit,r=e.contactName,s=void 0===r?"":r,i=e.contactNumber,l=void 0===i?"":i,d=e.isNew,m=void 0!==d&&d,h=f.Ry().shape({isName:f.O7(),name:f.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").min(3,"Too short!").required("Name is required!"),number:f.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").min(7,"Fill with a valid number").max(15,"Fill with a valid number").required("Phone is required!")}),b=(0,c.v9)(u);return(0,x.jsx)(p.J9,{initialValues:{name:s,number:l},validateOnBlur:!0,validateOnChange:!0,onSubmit:function(e,r){var a=r.resetForm,o=r.setSubmitting,s=r.dirty,i=e.name.toLowerCase();if((m||!m&&!s)&&b.find((function(e){return e.name.toLowerCase()===i})))return j.Notify.failure("Contact '".concat(e.name,"' is already in contacts"));try{t(e),a(),n()}catch(l){var c;j.Notify.failure("".concat(null!==(c=l.message)&&void 0!==c?c:"Action was failed")),o(!1)}},validationSchema:h,children:function(e){var t=e.isSubmiting,r=e.handleSubmit,s=e.handleBlur,i=e.resetForm,c=e.dirty;return(0,x.jsxs)(a.gC,{as:"form",mx:"auto",py:5,w:{base:"90%",md:"300px"},justifyContent:"center",onSubmit:r,children:[(0,x.jsx)(C.Z,{label:"Contact name",name:"name",placeholder:"Contact name",type:"text",onBlur:s,autoComplete:"off"}),(0,x.jsx)(C.Z,{label:"Phone number",name:"number",type:"tel",placeholder:"Contact number",onBlur:s,autoComplete:"off"}),(0,x.jsxs)(a.xu,{as:"p",pt:4,children:[(0,x.jsx)(o.zx,{mr:6,w:"120px",disabled:!c||t,type:"submit",children:m?"Create":"Edit"}),(0,x.jsx)(o.zx,{type:"button",w:"120px",onClick:function(){i(),n()},children:"Cancel"})]})]})}})},v=t(9439),w=t(3634),y=function(e){var n=e.contact,t=e.updateContact,r=(0,c.I0)(),i=n.id,l=n.name,u=n.number;return(0,x.jsxs)(a.HC,{border:"1px",borderColor:"gray.200",maxW:"350px",p:"4px 8px",borderRadius:"md",display:"flex",alignItems:"center",children:[(0,x.jsxs)(a.xu,{children:[(0,x.jsxs)(a.xv,{textTransform:"capitalize",fontWeight:"700",children:[" ",l]})," ",(0,x.jsxs)(a.xv,{children:[" tel. ",u]})]}),(0,x.jsx)(a.LZ,{}),(0,x.jsx)(s.dY,{boxSize:5,_hover:{transform:"scale(1.2)",cursor:"pointer"},onClick:function(){return t(n)},mr:4}),(0,x.jsxs)(o.zx,{_hover:{transform:"scale(1.05)"},colorScheme:"red",size:"xs",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),r((0,w.GK)(i))},children:["Delete ",(0,x.jsx)(s.pJ,{ml:2})]})]})},g=t(2007),Z=t.n(g),N=t(9948),z=t(2791),S=function(e){var n=e.handleClose,t=e.isOpen,r=e.title,a=e.children;return(0,x.jsxs)(N.u_,{isOpen:t,onClose:n,children:[(0,x.jsx)(N.ZA,{}),(0,x.jsxs)(N.hz,{children:[(0,x.jsxs)(N.xB,{py:2,borderBottom:"1px",borderColor:"gray.200",children:[r,(0,x.jsx)(N.ol,{_hover:{color:"red.500",backgroundColor:"gray.100"}})]}),(0,x.jsx)(N.fe,{children:a})]})]})},k=function(e){var n=e.createNewContact,t=(0,c.v9)(d),o=(0,c.v9)(m),s=(0,r.qY)(),i=s.isOpen,l=s.onOpen,u=s.onClose,h=(0,z.useState)({name:"",number:""}),p=(0,v.Z)(h,2),f=p[0],C=p[1],j=function(e){C(e),l()};return(0,x.jsxs)(x.Fragment,{children:[o.length?(0,x.jsx)(a.aV,{gap:4,display:"flex",flexDirection:"column",mt:4,pb:4,children:o.map((function(e){return(0,x.jsx)(y,{contact:e,updateContact:j},e.id)}))}):(0,x.jsxs)(a.xv,{mt:4,children:[t?"Contact not found":"No saved contacts",". Would you like to"," ",(0,x.jsx)(a.xu,{as:"span",cursor:"pointer",color:"blue",onClick:n,children:"create a contact?"})]}),(0,x.jsx)(S,{handleClose:u,isOpen:i,title:"Edit Contact",children:(0,x.jsx)(b,{handleSubmit:function(e){},contactName:f.name,contactNumber:f.number,handleClose:u})})]})};k.propsTypes={createNewContact:Z().func};var I=function(){var e=(0,r.qY)(),n=e.isOpen,t=e.onOpen,s=e.onClose,i=(0,c.I0)();(0,z.useEffect)((function(){i((0,w.Qd)())}),[i]);return(0,x.jsxs)(a.W2,{maxW:"container.xl",py:4,children:[(0,x.jsxs)(a.Ug,{w:"100%",children:[(0,x.jsx)(h,{w:"80%"}),(0,x.jsx)(o.zx,{onClick:t,children:"+"})]}),(0,x.jsx)(k,{createNewContact:t}),(0,x.jsx)(S,{handleClose:s,isOpen:n,title:"New Contact",children:(0,x.jsx)(b,{isNew:!0,handleSubmit:function(e){i((0,w.uK)(e))},handleClose:s})})]})}}}]);
//# sourceMappingURL=932.129e60b7.chunk.js.map